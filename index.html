<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>0x BATTLE â€” AI & Friend Mode â€” Made by Harsh Vardhan</title>
<style>
/* ---------- Root & Fonts ---------- */
:root{
  --bg:#071026; --accent1:#7c3aed; --accent2:#06b6d4;
  --text:#e6eef8; --muted:#98a4b3;
  --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box;font-family: 'Segoe UI', Roboto, system-ui, sans-serif;}
body{margin:0;background: var(--bg); color:var(--text); height:100vh; display:flex; justify-content:center; align-items:center;}
button{cursor:pointer; border:none; outline:none;}
/* ---------- Screens ---------- */
.screen{position:absolute; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; flex-direction:column; transition:all 0.4s ease; padding:20px;}
.screen.hide{opacity:0; pointer-events:none; transform:scale(0.95);}
h1{font-size:28px; margin:0 0 20px; text-align:center; color: var(--accent1); text-shadow:0 0 8px #7c3aed,0 0 16px #06b6d4;}
input{padding:12px 14px; border-radius:12px; border:1px solid var(--glass); background:transparent; color:var(--text); margin-bottom:20px; width:80%; text-align:center; font-size:18px;}
button.primary{padding:12px 24px; border-radius:14px; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#fff; font-weight:700; font-size:18px; margin-top:10px; transition:all 0.25s ease;}
button.primary:hover{transform:scale(1.05); box-shadow:0 8px 20px rgba(124,58,237,0.4);}
.options{display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-bottom:20px;}
.option{padding:10px 16px; border-radius:12px; border:1px solid var(--glass); transition:all 0.2s; font-weight:600;}
.option.active{background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#fff; border:none;}
/* ---------- Game Screen ---------- */
#gameScreen{flex-direction:column; width:100%; max-width:400px;}
#grid{display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-bottom:15px;}
.cell{aspect-ratio:1/1; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); display:flex; justify-content:center; align-items:center; font-size:48px; font-weight:800; border-radius:12px; transition:transform 0.2s;}
.cell:hover{transform:scale(1.1);}
.roast{min-height:60px; text-align:center; background:linear-gradient(90deg, rgba(0,0,0,0.2), rgba(255,255,255,0.01)); padding:10px 12px; border-radius:12px; margin-bottom:10px; font-weight:700;}
.score{display:flex; justify-content:space-around; width:100%; margin-bottom:10px;}
.score div{background:rgba(255,255,255,0.02); padding:6px 12px; border-radius:8px;}
.footer{font-size:12px; color:var(--muted); text-align:center; margin-top:12px;}
</style>
</head>
<body>

<!-- ---------- Welcome Screen ---------- -->
<section id="welcomeScreen" class="screen">
  <h1>0x BATTLE ğŸ‘¾ğŸ”¥</h1>
  <input type="text" id="nameInput" placeholder="Apna zabardast naam likh...">
  <button class="primary" id="startBtn">Start Game ğŸš€</button>
</section>

<!-- ---------- Settings Screen ---------- -->
<section id="settingsScreen" class="screen hide">
  <h1>Settings ğŸ› ï¸</h1>
  <div>Choose Mode:</div>
  <div class="options" id="modeOptions">
    <div class="option active" data-mode="AI">ğŸ¤– AI</div>
    <div class="option" data-mode="FRIEND">ğŸ‘« Friend</div>
  </div>
  <div>Choose Difficulty:</div>
  <div class="options" id="diffOptions">
    <div class="option active" data-diff="easy">Easy ğŸ˜</div>
    <div class="option" data-diff="medium">Medium ğŸ”¥</div>
    <div class="option" data-diff="hard">Hard ğŸ’€</div>
  </div>
  <div>Choose Symbol:</div>
  <div class="options" id="symbolOptions">
    <div class="option active" data-symbol="0">0ï¸âƒ£</div>
    <div class="option" data-symbol="X">âŒ</div>
  </div>
  <div>Board Size:</div>
  <div class="options" id="sizeOptions">
    <div class="option active" data-size="medium">Medium</div>
    <div class="option" data-size="small">Small</div>
    <div class="option" data-size="large">Large</div>
  </div>
  <button class="primary" id="settingsNext">Continue â¡ï¸</button>
</section>

<!-- ---------- Game Screen ---------- -->
<section id="gameScreen" class="screen hide">
  <div id="playerLabel">Player: â€”</div>
  <div class="score">
    <div>Wins: <span id="wins">0</span></div>
    <div>Losses: <span id="losses">0</span></div>
    <div>Draws: <span id="draws">0</span></div>
  </div>
  <div id="grid">
    <!-- cells generated by JS -->
  </div>
  <div class="roast" id="roastBox">Roasts appear here! ğŸ˜‚</div>
  <button class="primary" id="restartBtn">Restart Game ğŸ”„</button>
  <div class="footer">Made by Harsh Vardhan</div>
</section>

<script>
/* ---------- Variables ---------- */
let playerName='';
let mode='AI';
let difficulty='easy';
let human='0';
let ai='X';
let currentTurn='0';
let boardSize='medium';
let scores={wins:0,losses:0,draws:0};
let board=Array(9).fill(null);

const welcomeScreen=document.getElementById('welcomeScreen');
const settingsScreen=document.getElementById('settingsScreen');
const gameScreen=document.getElementById('gameScreen');
const nameInput=document.getElementById('nameInput');
const startBtn=document.getElementById('startBtn');
const settingsNext=document.getElementById('settingsNext');
const restartBtn=document.getElementById('restartBtn');
const gridEl=document.getElementById('grid');
const roastBox=document.getElementById('roastBox');
const playerLabel=document.getElementById('playerLabel');
const winsEl=document.getElementById('wins');
const lossesEl=document.getElementById('losses');
const drawsEl=document.getElementById('draws');

/* ---------- Roast Messages ---------- */
const roastMove=[
  "ğŸ˜‚ {name}, kahan ghum raha tha? ğŸ§­",
  "ğŸ˜œ {name}, move dekh ke opponent ka dil tez ho gaya! ğŸ˜…",
  "ğŸ”¥ {name} ne drama kiya, board bole â€” 'nahi bhai'.",
  "ğŸŸ {name}, plan fry ho gaya â€” crispy fail! ğŸ—",
  "ğŸ¤¡ {name}, tutorial skip kar diya lagta!"
];
const roastAIMove=[
  "ğŸ¤– AI: 'Bhai, {name} ko maaf karenge kya? Nah.'",
  "ğŸ’€ AI: 'Next time theory bhi padh lena.'",
  "ğŸ˜ˆ AI: 'Tera move meme ban gaya.'",
  "ğŸ† AI: '{name}, sabak seekh!' ğŸª"
];
const roastWin=["ğŸ† Wah {name}! Tu champion! ğŸ“¸","ğŸ‰ {name}, tu king ban gaya!","ğŸ•º {name}, moves clean!"];
const roastLose=["ğŸ˜­ Arre {name}, aaj tera din nahi ğŸ˜…","ğŸ• {name}, game haar gaya par pizza le ğŸ•"];
const roastDraw=["ğŸ¤ Tie! {name}, dono intelligent ğŸ˜„","ğŸª¢ Stalemate â€” {name}"];

/* ---------- Helper Functions ---------- */
function pickRandom(pool){ return pool[Math.floor(Math.random()*pool.length)]; }
function showRoast(msg){ roastBox.textContent=msg.replace("{name}",playerName||'Player'); }

/* ---------- Screen Navigation ---------- */
startBtn.onclick=()=>{ 
  playerName=nameInput.value.trim()||"Player";
  welcomeScreen.classList.add('hide'); 
  settingsScreen.classList.remove('hide');
};
settingsNext.onclick=()=>{ 
  settingsScreen.classList.add('hide'); 
  gameScreen.classList.remove('hide');
  initGame();
};
restartBtn.onclick=()=>{ 
  board=Array(9).fill(null); render(); showRoast("Game reset! ğŸ˜"); 
};

/* ---------- Options Selection ---------- */
document.querySelectorAll('#modeOptions .option').forEach(o=>o.onclick=()=>{
  mode=o.dataset.mode;
  document.querySelectorAll('#modeOptions .option').forEach(x=>x.classList.remove('active'));
  o.classList.add('active');
});
document.querySelectorAll('#diffOptions .option').forEach(o=>o.onclick=()=>{
  difficulty=o.dataset.diff;
  document.querySelectorAll('#diffOptions .option').forEach(x=>x.classList.remove('active'));
  o.classList.add('active');
});
document.querySelectorAll('#symbolOptions .option').forEach(o=>o.onclick=()=>{
  human=o.dataset.symbol; ai=human==='0'?'X':'0';
  document.querySelectorAll('#symbolOptions .option').forEach(x=>x.classList.remove('active'));
  o.classList.add('active');
});
document.querySelectorAll('#sizeOptions .option').forEach(o=>o.onclick=()=>{
  boardSize=o.dataset.size;
  document.querySelectorAll('#sizeOptions .option').forEach(x=>x.classList.remove('active'));
  o.classList.add('active');
});

/* ---------- Game Logic ---------- */
function initGame(){
  playerLabel.textContent="Player: "+playerName;
  makeCells();
  render();
  showRoast("Shuru karte hain, "+playerName+"! ğŸ®");
  currentTurn='0';
}

function makeCells(){
  gridEl.innerHTML='';
  for(let i=0;i<9;i++){
    const c=document.createElement('div');
    c.className='cell';
    c.dataset.i=i;
    c.onclick=()=>cellClicked(i);
    gridEl.appendChild(c);
  }
}

function render(){
  for(let i=0;i<9;i++) gridEl.children[i].textContent=board[i]||'';
  winsEl.textContent=scores.wins;
  lossesEl.textContent=scores.losses;
  drawsEl.textContent=scores.draws;
}

function other(ch){return ch==='0'?'X':'0';}

function cellClicked(i){
  if(board[i]||checkWinner(board)) return;
  if(mode==='AI'){
    if(currentTurn!==human) return;
    board[i]=human; afterMove(false);
    if(!checkWinner(board)&&board.some(s=>!s)){
      setTimeout(()=>{ aiMove(); afterMove(true); }, 400+Math.random()*400);
    }
  } else{
    board[i]=currentTurn; afterMove(false); currentTurn=other(currentTurn);
  }
}

function afterMove(aiDid){
  render();
  if(aiDid) showRoast(pickRandom(roastAIMove));
  else showRoast(pickRandom(roastMove));
  const w=checkWinner(board);
  if(w||board.every(Boolean)) finishRound(w);
  else if(mode==='AI') currentTurn=other(currentTurn);
}

function aiMove(){
  const empty=[];
  for(let i=0;i<9;i++) if(!board[i]) empty.push(i);
  if(empty.length) board[empty[Math.floor(Math.random()*empty.length)]]=ai;
}

function checkWinner(bd){
  const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  for(const [a,b,c] of lines) if(bd[a]&&bd[a]===bd[b]&&bd[b]===bd[c]) return bd[a];
  return null;
}

function finishRound(w){
  if(w){
    if(mode==='AI'){
      if(w===human){scores.wins++; showRoast(pickRandom(roastWin));}
      else{scores.losses++; showRoast(pickRandom(roastLose));}
    } else{showRoast(w+" jeeta! "+pickRandom(roastWin));}
  } else{scores.draws++; showRoast(pickRandom(roastDraw));}
  render();
  setTimeout(()=>{board=Array(9).fill(null); render(); currentTurn='0';},1500);
}
</script>
</body>
</html>
