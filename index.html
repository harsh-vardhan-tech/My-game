<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>0x Battle Hub • Harsh Vardhan</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#141d2b">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/png" href="icons/icon-192.png">
<link rel="stylesheet" href="src/style/base.css">
<link rel="stylesheet" href="src/style/animations.css">
<meta name="description" content="0x Battle Hub - Multi Game Arena by Harsh Vardhan">
</head>
<body>
<div class="app">
  <!-- HEADER -->
  <header class="header">
    <div class="brand">
      <span>🎮 0x Battle Hub</span>
      <small>Made by Harsh Vardhan</small>
    </div>
    <div class="header-btns">
      <button id="donateBtn" class="icon-btn" title="Donate / Support">💝</button>
      <button id="settingsBtn" class="icon-btn" title="Settings / Sounds">⚙️</button>
      <button id="musicBtn" class="icon-btn" title="Music On/Off">🔊</button>
    </div>
  </header>

  <!-- FLOW SCREENS -->
  <div id="flow">
    <!-- STEP 0 -->
    <section class="screen active" data-step="0" id="screenGame">
      <h2 class="title">Choose Your Game</h2>
      <div class="game-grid" id="gameGrid">
        <div class="game-card" data-game="tictac">
          <div class="ic">❌⭕</div>
          <div class="nm">Tic Tac Toe</div>
          <div class="ds">Classic + perfect AI</div>
        </div>
        <div class="game-card" data-game="snake">
          <div class="ic">🐍</div>
          <div class="nm">Snake & Ladder</div>
          <div class="ds">Race to 100</div>
        </div>
        <div class="game-card" data-game="dotbox">
          <div class="ic">🟦</div>
          <div class="nm">Dot Box</div>
          <div class="ds">Claim squares</div>
        </div>
      </div>
      <button class="btn full" id="toMode" disabled>Next ➡️</button>
      <div class="small">Pick any game to continue</div>
    </section>

    <!-- STEP 1 -->
    <section class="screen" data-step="1" id="screenMode">
      <h2 class="title">Select Mode</h2>
      <div class="mode-row">
        <button class="mode-btn" data-mode="ai">Play vs AI 🤖</button>
        <button class="mode-btn" data-mode="friend">Play with Friend 👥</button>
      </div>
      <div class="nav-row">
        <button class="btn sec" id="backGame">⬅ Back</button>
        <button class="btn" id="toNames" disabled>Next ➡️</button>
      </div>
      <div class="small">AI is strong across all games.</div>
    </section>

    <!-- STEP 2 -->
    <section class="screen" data-step="2" id="screenNames">
      <h2 class="title">Enter Player Name(s)</h2>
      <div id="nameZone" class="name-zone"></div>
      <div class="nav-row">
        <button class="btn sec" id="backMode">⬅ Back</button>
        <button class="btn" id="toSummary" disabled>Next ➡️</button>
      </div>
    </section>

    <!-- STEP 3 -->
    <section class="screen" data-step="3" id="screenSummary">
      <h2 class="title">Summary</h2>
      <div class="summary-box" id="summaryBox"></div>
      <div class="nav-row" style="margin-top:16px;">
        <button class="btn sec" id="backNames">⬅ Back</button>
        <button class="btn" id="startGame">Start Game 🚀</button>
      </div>
    </section>
  </div>

  <!-- GAME STAGE -->
  <section id="gameStage">
    <div id="gameContainer"></div>
    <div class="nav-row" style="margin-top:18px;">
      <button class="btn sec" id="homeBtn">⬅ Home</button>
      <button class="btn" id="restartBtn">🔄 Restart</button>
    </div>
  </section>

  <footer class="footer">
    © 2025 Harsh Vardhan • Local custom sounds stay only on your device.
  </footer>
</div>

<!-- TOAST + CONFETTI -->
<div id="toast" class="toast"></div>
<div id="confetti" class="confetti"></div>

<!-- SETTINGS PANEL -->
<div id="settingsPanel">
  <div class="settings-box">
    <button class="close-set" id="closeSettings" title="Close">✖</button>
    <h3>Settings</h3>
    <div class="setting-row">
      <label>Music & Master</label>
      <div class="inline-flex">
        <button id="toggleMusic" class="test-btn">Toggle Music</button>
        <button id="muteAll" class="test-btn">Mute All</button>
        <button id="resetSounds" class="test-btn" style="background:var(--grad-warm);color:#222;">Reset Sounds</button>
      </div>
      <div class="note-mini">Custom sounds optional. Stored in localStorage only.</div>
    </div>
    <hr class="div">
    <div class="setting-row">
      <label>Click / Tap Sound</label>
      <div class="inline-flex">
        <input type="file" id="sndClick" accept="audio/*" class="sound-input">
        <button class="test-btn" data-play="click">Play</button>
      </div>
    </div>
    <div class="setting-row">
      <label>Move / Action Sound</label>
      <div class="inline-flex">
        <input type="file" id="sndMove" accept="audio/*" class="sound-input">
        <button class="test-btn" data-play="move">Play</button>
      </div>
    </div>
    <div class="setting-row">
      <label>Win Sound</label>
      <div class="inline-flex">
        <input type="file" id="sndWin" accept="audio/*" class="sound-input">
        <button class="test-btn" data-play="win">Play</button>
      </div>
    </div>
    <div class="setting-row">
      <label>Background Music</label>
      <div class="inline-flex">
        <input type="file" id="sndBg" accept="audio/*" class="sound-input">
        <button class="test-btn" data-play="bg">Play</button>
      </div>
    </div>
    <div class="note-mini">Recommended small mp3 (under 300KB) for smoother mobile experience.</div>
  </div>
</div>

<!-- DONATE MODAL -->
<div id="donateModal">
  <div class="donate-box">
    <button class="close-donate" id="closeDonate" title="Close">✖</button>
    <h3>Support Developer 💝</h3>
    <p style="font-size:.72rem;line-height:1.35;opacity:.8;margin-bottom:12px;">
      If you like this game hub, support development via UPI. Thank you!
    </p>
    <div class="amount-grid">
      <button class="amount-btn" data-amt="19">₹19</button>
      <button class="amount-btn" data-amt="49">₹49</button>
      <button class="amount-btn" data-amt="99">₹99</button>
      <button class="amount-btn" data-amt="199">₹199</button>
    </div>
    <input id="donateAmount" placeholder="Enter Amount (INR)">
    <button class="pay-btn" id="payNowBtn">Pay via UPI App</button>
    <div class="upi-id-box">
      <span id="upiText">UPI: kk2112423@oksbi</span>
      <button class="copy-btn" id="copyUpi">Copy</button>
    </div>
    <div class="donate-note">
      Auto deep link works best on Android UPI apps (GPay / PhonePe / Paytm / BHIM).
      If not opening, copy UPI ID manually.
    </div>
  </div>
</div>

<!-- CORE SCRIPTS -->
<script type="module" src="src/core/app.js"></script>
</body>
</html>
